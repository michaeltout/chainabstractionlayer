(()=>{"use strict";var e={643:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{a(n.next(e))}catch(e){o(e)}}function u(e){try{a(n.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,u)}a((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},u=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=r(130),l=r(522),d=r(157),h=r(939),f=a(r(707)),p=r(434),v=r(176),_=r(831),y=function(e){function t(t){var r=this,n=t.network,i=t.mnemonic,o=t.derivationPath;return(r=e.call(this,{network:n})||this)._network=n,r._mnemonic=i,r._derivationPath=o,r._addressCache={},r}return i(t,e),t.prototype.isWalletAvailable=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.getAddresses()];case 1:return[2,e.sent().length>0]}}))}))},t.prototype.getAddresses=function(){return o(this,void 0,void 0,(function(){var e,t;return s(this,(function(r){switch(r.label){case 0:return this._addressCache[this._mnemonic]?[2,[this._addressCache[this._mnemonic]]]:[4,this._getSigner()];case 1:return e=r.sent(),t=new l.Address({address:e.publicKey.toString(),publicKey:e.publicKey.toString(),derivationPath:this._derivationPath}),this._addressCache[this._mnemonic]=t,[2,[t]]}}))}))},t.prototype.getUnusedAddress=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.getAddresses()];case 1:return[2,e.sent()[0]]}}))}))},t.prototype.getUsedAddresses=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){return[2,this.getAddresses()]}))}))},t.prototype.sendTransaction=function(e){var t;return o(this,void 0,void 0,(function(){var r,n,i,o,a,c,l,h;return s(this,(function(s){switch(s.label){case 0:return[4,this._getSigner()];case 1:return s.sent(),r=new _.Transaction,e.instructions||e.to?[3,6]:[4,this.getMethod("_deploy")(this._signer,e.bytecode)];case 2:return n=s.sent(),[4,this.getMethod("_waitForContractToBeExecutable")(n)];case 3:return s.sent(),[4,this.getMethod("_getAddressHistory")(n)];case 4:return i=s.sent()[0],[4,this.getMethod("getTransactionReceipt")([i.signature])];case 5:return[2,s.sent()];case 6:return e.instructions?[3,8]:(o=new _.PublicKey(d.addressToString(e.to)),a=Number(e.value),l=(c=r).add,[4,this._sendBetweenAccounts(o,a)]);case 7:return l.apply(c,[s.sent()]),[3,9];case 8:e.instructions.forEach((function(e){return r.add(e)})),s.label=9;case 9:return h=[this._signer],e.accounts&&(h=u([this._signer],e.accounts)),[4,this.getMethod("_sendTransaction")(r,h)];case 10:return[2,{hash:s.sent(),value:(null===(t=e.value)||void 0===t?void 0:t.toNumber())||0,_raw:{}}]}}))}))},t.prototype.signMessage=function(e){return o(this,void 0,void 0,(function(){var t,r;return s(this,(function(n){switch(n.label){case 0:return[4,this._getSigner()];case 1:return n.sent(),t=Buffer.from(e),r=f.default.sign.detached(t,h.base58.decode(h.base58.encode(this._signer.secretKey))),[2,h.base58.encode(r)]}}))}))},t.prototype.getConnectedNetwork=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){return[2,this._network]}))}))},t.prototype.canUpdateFee=function(){return!1},t.prototype.sendSweepTransaction=function(e){return o(this,void 0,void 0,(function(){var t,r,n,i,o;return s(this,(function(s){switch(s.label){case 0:return[4,this.getAddresses()];case 1:return t=s.sent(),[4,Promise.all([this.getMethod("getBalance")(t),this.getMethod("getRecentBlockhash")()])];case 2:return r=s.sent(),n=r[0],i=r[1],o=i.feeCalculator.lamportsPerSignature,[4,this.sendTransaction({to:d.addressToString(e),value:n.minus(o)})];case 3:return[2,s.sent()]}}))}))},t.prototype._mnemonicToSeed=function(e){return o(this,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:if(!v.validateMnemonic(e))throw new Error("Invalid seed words");return[4,v.mnemonicToSeed(e)];case 1:return t=r.sent(),[2,Buffer.from(t).toString("hex")]}}))}))},t.prototype._getSigner=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this._signer?[3,2]:[4,this._setSigner()];case 1:e.sent(),e.label=2;case 2:return[2,this._signer]}}))}))},t.prototype._sendBetweenAccounts=function(e,t){return o(this,void 0,void 0,(function(){var r;return s(this,(function(n){switch(n.label){case 0:return[4,this._getSigner()];case 1:return r=n.sent(),[2,_.SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:e,lamports:t})]}}))}))},t.prototype._setSigner=function(){return o(this,void 0,void 0,(function(){var e,t,r;return s(this,(function(n){switch(n.label){case 0:return[4,this._mnemonicToSeed(this._mnemonic)];case 1:return e=n.sent(),t=p.derivePath(this._derivationPath,e).key,r=_.Keypair.fromSecretKey(f.default.sign.keyPair.fromSeed(t).secretKey),this._signer=r,[2]}}))}))},t}(c.WalletProvider);t.default=y},175:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SolanaWalletProvider=void 0;var i=n(r(643));t.SolanaWalletProvider=i.default},939:e=>{e.exports=require("@liquality/crypto")},522:e=>{e.exports=require("@liquality/types")},157:e=>{e.exports=require("@liquality/utils")},130:e=>{e.exports=require("@liquality/wallet-provider")},831:e=>{e.exports=require("@solana/web3.js")},176:e=>{e.exports=require("bip39")},434:e=>{e.exports=require("ed25519-hd-key")},707:e=>{e.exports=require("tweetnacl")}},t={},r=function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(175);module.exports=r})();
//# sourceMappingURL=index.js.map