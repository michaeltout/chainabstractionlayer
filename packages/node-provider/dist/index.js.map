{"version":3,"file":"index.js","mappings":"ktCAAA,aACA,SAEA,YACA,SAEA,cAEE,WAAYA,GAAZ,MACE,cAAO,K,OACP,EAAKC,MAAQ,UAAMC,OAAOF,G,EA4B9B,OAhC0C,OAOxC,YAAAG,iBAAA,SAAiBC,EAAUC,GACWD,EAAC,KAA7B,IAAME,EAAsBF,EAAC,QAAXG,EAAK,EAAKH,EAA9B,oBAGAI,EADO,EAAAC,IAAIL,EAAG,kBACSE,EAE7B,MAAM,IAAI,EAAAI,UAAUF,EAAc,EAAF,KAC3BH,GACAE,KAIP,YAAAI,QAAA,SAAQC,EAAaC,GAArB,WACE,YADmB,IAAAA,IAAAA,EAAA,IACZC,KAAKb,MACTQ,IAAIG,EAAK,CAAEC,OAAM,IACjBE,MAAK,SAACC,GAAa,OAAAA,EAASC,QAC5BC,OAAM,SAACd,GAAM,SAAKD,iBAAiBC,EAAG,CAAEQ,IAAG,EAAEC,OAAM,QAGxD,YAAAM,SAAA,SAASP,EAAaK,GAAtB,WACE,OAAOH,KAAKb,MACTmB,KAAKR,EAAKK,GACVF,MAAK,SAACC,GAAa,OAAAA,EAASC,QAC5BC,OAAM,SAACd,GAAM,SAAKD,iBAAiBC,EAAG,CAAEQ,IAAG,EAAEK,KAAI,QAExD,EAhCA,CAA0C,EAAAI,U,4LCN1C,gBAIS,EAAAC,aAJF,W,QCAPC,EAAOC,QAAUC,QAAQ,sB,QCAzBF,EAAOC,QAAUC,QAAQ,wB,QCAzBF,EAAOC,QAAUC,QAAQ,U,QCAzBF,EAAOC,QAAUC,QAAQ,YCCrBC,EAA2B,GCE3BC,EDCJ,SAASC,EAAoBC,GAE5B,IAAIC,EAAeJ,EAAyBG,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaN,QAGrB,IAAID,EAASG,EAAyBG,GAAY,CAGjDL,QAAS,IAOV,OAHAQ,EAAoBH,GAAUI,KAAKV,EAAOC,QAASD,EAAQA,EAAOC,QAASI,GAGpEL,EAAOC,QClBWI,CAAoB,K","sources":["webpack://@liquality/node-provider/./lib/NodeProvider.ts","webpack://@liquality/node-provider/./lib/index.ts","webpack://@liquality/node-provider/external commonjs \"@liquality/errors\"","webpack://@liquality/node-provider/external commonjs \"@liquality/provider\"","webpack://@liquality/node-provider/external commonjs \"axios\"","webpack://@liquality/node-provider/external commonjs \"lodash\"","webpack://@liquality/node-provider/webpack/bootstrap","webpack://@liquality/node-provider/webpack/startup"],"sourcesContent":["import { Provider } from '@liquality/provider'\nimport { NodeError } from '@liquality/errors'\n\nimport axios, { AxiosInstance, AxiosRequestConfig } from 'axios'\nimport { get } from 'lodash'\n\nexport default class NodeProvider extends Provider {\n  _node: AxiosInstance\n  constructor(config: AxiosRequestConfig) {\n    super()\n    this._node = axios.create(config)\n  }\n\n  _handleNodeError(e: Error, context: any) {\n    const { name, message, ...attrs } = e\n\n    const data = get(e, 'response.data')\n    const errorMessage = data || message\n\n    throw new NodeError(errorMessage, {\n      ...context,\n      ...attrs\n    })\n  }\n\n  nodeGet(url: string, params: any = {}): Promise<any> {\n    return this._node\n      .get(url, { params })\n      .then((response) => response.data)\n      .catch((e) => this._handleNodeError(e, { url, params }))\n  }\n\n  nodePost(url: string, data: any): Promise<any> {\n    return this._node\n      .post(url, data)\n      .then((response) => response.data)\n      .catch((e) => this._handleNodeError(e, { url, data }))\n  }\n}\n","import NodeProvider from './NodeProvider'\n\nimport { AxiosRequestConfig, AxiosResponse } from 'axios'\n\nexport { NodeProvider, AxiosRequestConfig, AxiosResponse }\n","module.exports = require(\"@liquality/errors\");","module.exports = require(\"@liquality/provider\");","module.exports = require(\"axios\");","module.exports = require(\"lodash\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(175);\n"],"names":["config","_node","create","_handleNodeError","e","context","message","attrs","errorMessage","get","NodeError","nodeGet","url","params","this","then","response","data","catch","nodePost","post","Provider","NodeProvider","module","exports","require","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call"],"sourceRoot":""}