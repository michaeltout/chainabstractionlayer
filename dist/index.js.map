{"version":3,"file":"index.js","mappings":"y7DAAA,IASA,cAKE,WAAYA,QAAA,IAAAA,IAAAA,EAAA,IAAZ,MACE,cAAO,KACC,EAAwEA,EAAI,iBAA5EC,OAAgB,IAAG,IAAC,EAAE,EAAkDD,EAAI,oBAAtDE,OAAmB,IAAG,IAAC,EAAE,EAAyBF,EAAI,iBAA7BG,OAAgB,IAAG,IAAC,E,OAC3E,EAAKC,kBAAoBH,EACzB,EAAKI,qBAAuBH,EAC5B,EAAKI,kBAAoBH,E,EA2B7B,OArCiD,OAa/C,YAAAI,YAAA,SAAYC,GACV,OAAmB,EAAZA,GAGH,YAAAC,OAAN,SAAaC,G,0FACG,SAAMC,KAAKC,UAAU,gBAAfD,CAAgCD,I,OAGpD,MAAO,CAAP,EAAO,CAAEG,IAHK,SAGOC,KAFO,EAAfJ,EAAmB,aAK5B,YAAAK,QAAN,W,sGACgC,SAAMC,QAAQC,IAAI,CAC9CN,KAAKF,OAAOE,KAAKP,mBACjBO,KAAKF,OAAOE,KAAKN,sBACjBM,KAAKF,OAAOE,KAAKL,sB,OAGnB,OANM,EAAwB,SAAvBY,EAAI,KAAEC,EAAO,KAAEC,EAAI,KAMnB,CAAP,EAAO,CACLF,KAAI,EACJC,QAAO,EACPC,KAAI,YAGV,EArCA,CATA,OASiDC,U,mMCTjD,gBAES,EAAAC,oBAFF,W,QCAPC,EAAOC,QAAUC,QAAQ,yBCCrBC,EAA2B,GCE3BC,EDCJ,SAASC,EAAoBC,GAE5B,IAAIC,EAAeJ,EAAyBG,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaN,QAGrB,IAAID,EAASG,EAAyBG,GAAY,CAGjDL,QAAS,IAOV,OAHAQ,EAAoBH,GAAUI,KAAKV,EAAOC,QAASD,EAAQA,EAAOC,QAASI,GAGpEL,EAAOC,QClBWI,CAAoB,K","sources":["webpack://@liquality/verus-rpc-fee-provider/./lib/VerusRpcFeeProvider.ts","webpack://@liquality/verus-rpc-fee-provider/./lib/index.ts","webpack://@liquality/verus-rpc-fee-provider/external commonjs \"@liquality/provider\"","webpack://@liquality/verus-rpc-fee-provider/webpack/bootstrap","webpack://@liquality/verus-rpc-fee-provider/webpack/startup"],"sourcesContent":["import { Provider } from '@liquality/provider'\nimport { FeeProvider, FeeDetail } from '@liquality/types'\n\ntype FeeOptions = {\n  slowTargetBlocks?: number\n  averageTargetBlocks?: number\n  fastTargetBlocks?: number\n}\n\nexport default class VerusRpcFeeProvider extends Provider implements FeeProvider {\n  _slowTargetBlocks: number\n  _averageTargetBlocks: number\n  _fastTargetBlocks: number\n\n  constructor(opts: FeeOptions = {}) {\n    super()\n    const { slowTargetBlocks = 6, averageTargetBlocks = 3, fastTargetBlocks = 1 } = opts\n    this._slowTargetBlocks = slowTargetBlocks\n    this._averageTargetBlocks = averageTargetBlocks\n    this._fastTargetBlocks = fastTargetBlocks\n  }\n\n  getWaitTime(numBlocks: number) {\n    return numBlocks * 1 // Minutes per block* 60 // Seconds per minute\n  }\n\n  async getFee(targetBlocks: number): Promise<FeeDetail> {\n    const value = await this.getMethod('getFeePerByte')(targetBlocks)\n    const wait = targetBlocks * 1 * 60 // 1 minute blocks in seconds\n\n    return { fee: value, wait }\n  }\n\n  async getFees() {\n    const [slow, average, fast] = await Promise.all([\n      this.getFee(this._slowTargetBlocks),\n      this.getFee(this._averageTargetBlocks),\n      this.getFee(this._fastTargetBlocks)\n    ])\n\n    return {\n      slow,\n      average,\n      fast\n    }\n  }\n}\n","import VerusRpcFeeProvider from './VerusRpcFeeProvider'\n\nexport { VerusRpcFeeProvider }\n","module.exports = require(\"@liquality/provider\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(175);\n"],"names":["opts","slowTargetBlocks","averageTargetBlocks","fastTargetBlocks","_slowTargetBlocks","_averageTargetBlocks","_fastTargetBlocks","getWaitTime","numBlocks","getFee","targetBlocks","this","getMethod","fee","wait","getFees","Promise","all","slow","average","fast","Provider","VerusRpcFeeProvider","module","exports","require","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call"],"sourceRoot":""}